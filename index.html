<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ma Galerie Photo</title>
    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./script/script.js" defer></script>
    <script src="./script/animation.js" defer></script>
    <link rel="stylesheet" href="style/style.css">
</head>

<body>
    <!-- En-tête de la page -->
    <header>
        <div class="logo">
            <a href="index.html">Ma Galerie Photo</a>
        </div>
        <div class="user-section">
            <!-- Sera rempli dynamiquement via JavaScript -->
        </div>
        <button class="add-album-btn" id="openModalBtn" style="display: none;">+ Nouvel Album</button>
    </header>

    <!-- Contenu principal -->
    <div class="container">
        <h2 class="section-title">Albums Photo</h2>

        <!-- Indicateur de chargement -->
        <div id="loading" class="loading">
            Chargement des albums...
        </div>

        <!-- Grille d'albums (à remplir dynamiquement) -->
        <div class="albums-grid" id="albumsGrid" style="display: none;">
            <!-- Le message concernant l'absence d'albums est maintenant géré dynamiquement dans script.js -->
        </div>
    </div>
    </div>

    <!-- Modal pour ajouter un album -->
    <div class="modal-overlay" id="albumModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Créer un nouvel album</h3>
                <button class="close-btn" id="closeModalBtn">&times;</button>
            </div>
            <form id="albumForm">
                <div class="form-group">
                    <label for="albumTitle">Titre de l'album</label>
                    <input type="text" id="albumTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="albumDescription">Description (optionnelle)</label>
                    <textarea id="albumDescription" class="form-control" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="albumCover">Image de couverture (optionnelle)</label>
                    <input type="file" id="albumCover" class="form-control" accept="image/*">
                    <small class="form-text">Si aucune image n'est sélectionnée, une image par défaut sera
                        utilisée.</small>
                </div>
                <div class="cover-preview">
                    <img id="coverPreview" style="display: none; max-width: 100%; margin-top: 10px; max-height: 200px;">
                </div>
                <button type="submit" class="submit-btn">Créer l'album</button>
            </form>
        </div>
    </div>

    <!-- Modal de connexion -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Connexion</h3>
                <button class="close-btn" id="closeLoginModalBtn">&times;</button>
            </div>
            <div id="loginError" class="error-message" style="display: none;"></div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Mot de passe</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="submit-btn login-submit">Se connecter</button>
            </form>
        </div>
    </div>

    <!-- Modal d'inscription -->
    <div class="modal-overlay" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Créer un compte</h3>
                <button class="close-btn" id="closeRegisterModalBtn">&times;</button>
            </div>
            <div id="registerError" class="error-message" style="display: none;"></div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerPseudo">Pseudo</label>
                    <input type="text" id="registerPseudo" class="form-control" required minlength="3">
                    <small class="form-text">Le pseudo doit contenir au moins 3 caractères</small>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Mot de passe</label>
                    <input type="password" id="registerPassword" class="form-control" required minlength="6">
                    <small class="form-text">Le mot de passe doit contenir au moins 6 caractères</small>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirmation du mot de passe</label>
                    <input type="password" id="confirmPassword" class="form-control" required>
                </div>
                <button type="submit" class="submit-btn register-submit">Créer mon compte</button>
            </form>
        </div>
    </div>
</body>

</html>